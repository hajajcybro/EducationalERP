<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

<!--form view-->
    <record id="school_partner_teacher_form_view" model="ir.ui.view">
        <field name="name">school.partner.teacher.form.view</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath expr="//div[@name='button_box']" position="inside">
                <div name="button_box" position="inside">
                    <button name="action_open_documents"
                            type="object" class="oe_stat_button" icon="fa-file"
                            string="Documents"/>
                </div>
            </xpath>
            <xpath expr="//div[@name='button_box']" position="inside">
                <div name="button_box" position="inside">
                        <button name="action_open_enrollment"
                                type="object" class="oe_stat_button" icon="fa-edit"
                                string="Enrollment"/>
                    </div>
            </xpath>
            <xpath expr="//field[@name='parent_id']" position="replace">
                <field name="company_id"/>
            </xpath>
            <xpath expr="//field[@name='function']" position="replace">
<!--                <field name="position_role" filter_domain="[('position_role,'==','student')]"/>-->
                <field name="is_student" widget="boolean_toggle"/>
            </xpath>


             <xpath expr="//field[@name='category_id']" position="after">
                <field name="stu_category_id"/>
            </xpath>
             <xpath expr="//field[@name='vat']" position="after">
                <field name="program_id"/>
            </xpath>
            <xpath expr="//field[@name='website']" position="after">
                <field name="academic_year_id"/>
            </xpath>
            <xpath expr="//page[@name='contact_addresses']"  position="after" invisble="is_student != True">
                <page string="Academic Info" name="academic_info">
                    <group>
                        <group string="Previous Academic Details">
                            <field name="previous_academic"/>
                            <field name="previous_class"/>
                            <field name="Year_of_passing"/>
                            <field name="language"/>
                            <field name="board"/>
                        </group>

                        <group string="Class">
                            <field name="class_id"/>
                            <field name="roll_no"/>
                            <field name="class_teacher_id"/>
                        </group>
                        <group string="Reference">
                            <field name="admission_no" readonly="1"/>
                            <field name="last_missing_doc_mail_date" readonly="1"/>
                        </group>
                        <group string="Transport">
                            <field name="transportation" widget="boolean_toggle"/>
                            <field name="bus_no" invisible ="transportation != True"/>
                        </group>
                    </group>
                </page>
            </xpath>
            <xpath expr="//page[@name='sales_purchases']" position="after">
                <page string="Other Info" name="personal_info" invisble="is_student != True">
                    <group>
                        <group string="Personal Info">
                            <field name="gender"/>
                            <field name="dob"/>
                            <field name="age" readonly="1"/>
                            <field name="blood_group"/>
                            <field name="id_no"/>
                            <field name="guardian"/>
                            <field name="relation"/>
                        </group>
                        <group string="Parents Info">
                            <field name="father_name"/>
                            <field name="parent_email"/>
                            <field name="mother_name"/>
                            <field name="contact_no"/>
                            <field name="emergency_phone"/>
                            <field name="current_address"/>
                        </group>

                    </group>
                </page>
            </xpath>
        </field>
    </record>

<!--    window action for teacher-->
    <record id="action_school_partner_student" model="ir.actions.act_window">
        <field name="name">Student</field>
        <field name="res_model">res.partner</field>
        <field name="view_mode">list,form</field>
        <field name="domain">[('is_student', '=', True)]</field>
        <field name="context">{'default_is_student': True}</field>
        <field name="help" type="html">
            <p class="0_view_no_content_smiling_face">create</p>
        </field>
    </record>


</odoo>
