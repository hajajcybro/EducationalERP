<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- ðŸ§‘â€ðŸ« Teacher: can see only timetable lines where they are the faculty -->
    <record id="rule_timetable_teacher_own" model="ir.rule">
        <field name="name">Timetable: Teacher Own Schedule</field>
        <field name="model_id" ref="education_core.model_education_timetable_line"/>
        <field name="domain_force">[('faculty_id.user_id', '=', user.id) ]</field>
        <field name="groups" eval="[(4, ref('education_core.group_education_teacher'))]"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_create" eval="0"/>
        <field name="perm_unlink" eval="0"/>
    </record>


    <!-- ðŸŽ“ Student: can see timetable for their class only -->
    <record id="rule_timetable_student_class" model="ir.rule">
        <field name="name">Timetable: Student Class Timetable</field>
        <field name="model_id" ref="education_core.model_education_timetable_line"/>
        <field name="domain_force">
            [('class_id', '=', user.partner_id.class_id.id)]</field>
        <field name="groups" eval="[(4, ref('education_core.group_education_student'))]"/>
        <field name="perm_read" eval="1"/>
        <field name="perm_write" eval="0"/>
        <field name="perm_create" eval="0"/>
        <field name="perm_unlink" eval="0"/>
    </record>

</odoo>
